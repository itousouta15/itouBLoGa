# ğŸ“ Hexo åšå®¢è‡ªå‹•åŒ–éƒ¨ç½²æŒ‡å—

è¿™ä¸ªé¡¹ç›®ä½¿ç”¨ **GitHub Actions** è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œå·¥ä½œæµå·²å¤§å¹…ç®€åŒ–ï¼

---

## ğŸš€ æ–°å·¥ä½œæµç¨‹ï¼ˆè¶…ç®€å•ï¼ï¼‰

### åªéœ€è¦ 3 æ­¥ï¼š

```
1. ç¼–è¾‘æ–‡ç«  (source branch)
   â†“
2. æäº¤å¹¶æ¨é€åˆ° GitHub
   git add .
   git commit -m "Your message"
   git push origin source
   â†“
3. âœ… GitHub Actions è‡ªåŠ¨éƒ¨ç½²å®Œæˆï¼
```

ä¸éœ€è¦è¿è¡Œä»»ä½•è„šæœ¬ï¼

---

## âš™ï¸ GitHub Actions å·¥ä½œæµè¯´æ˜

### è‡ªåŠ¨åŒ–æµç¨‹

å½“ä½ åœ¨ `source` åˆ†æ”¯æ¨é€ä»£ç åï¼ŒGitHub Actions ä¼šè‡ªåŠ¨ï¼š

1. âœ… æ‰“å‡º source åˆ†æ”¯çš„ä»£ç 
2. âœ… è¿è¡Œ `npm install`
3. âœ… æ‰§è¡Œ `hexo clean` å’Œ `hexo generate`
4. âœ… åˆ‡æ¢åˆ° main åˆ†æ”¯
5. âœ… å¤åˆ¶ç”Ÿæˆçš„æ–‡ä»¶åˆ° main åˆ†æ”¯
6. âœ… æäº¤å¹¶æ¨é€åˆ° main åˆ†æ”¯ï¼ˆGitHub Pagesï¼‰

**æ•´ä¸ªè¿‡ç¨‹å…¨è‡ªåŠ¨ï¼Œåªéœ€ 1-2 åˆ†é’Ÿï¼**

### å·¥ä½œæµæ–‡ä»¶ä½ç½®

```
.github/workflows/deploy.yml
```

æ–‡ä»¶å·²è‡ªåŠ¨åˆ›å»ºï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚

---

## ğŸ’» æœ¬åœ°å¼€å‘å·¥ä½œæµ

### å‰ç½®è¦æ±‚

- Node.js 18+ 
- Git
- npm

### å®‰è£…ä¾èµ–

```bash
npm install
```

### æœ¬åœ°é¢„è§ˆ

ç¼–è¾‘æ–‡ç« åï¼Œåœ¨æœ¬åœ°é¢„è§ˆæ£€æŸ¥æ•ˆæœï¼š

```bash
npx hexo server
# æˆ–ç®€å†™
npx hexo s
```

ç„¶åè®¿é—® http://localhost:4000

æŒ‰ `Ctrl+C` åœæ­¢æœåŠ¡å™¨

### åˆ›å»ºæ–°æ–‡ç« 

```bash
npx hexo new "æ–‡ç« æ ‡é¢˜"
# æˆ–
npx hexo new post "æ–‡ç« æ ‡é¢˜"
```

æ–°æ–‡ç« ä¼šåˆ›å»ºåœ¨ `source/_posts/` ä¸‹ï¼Œä½¿ç”¨ Markdown ç¼–è¾‘ã€‚

---

## ğŸ“¤ éƒ¨ç½²æ­¥éª¤

### æ ‡å‡†éƒ¨ç½²æµç¨‹

```bash
# 1. ç¡®ä¿åœ¨ source åˆ†æ”¯
git checkout source

# 2. æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add .

# 3. æäº¤æ›´æ”¹ï¼ˆè‡ªå®šä¹‰æäº¤ä¿¡æ¯ï¼‰
git commit -m "Add: æ–°æ–‡ç« æ ‡é¢˜" 
# æˆ–
git commit -m "Update: ä¿®å¤æ’ç‰ˆ"

# 4. æ¨é€åˆ° GitHub
git push origin source

# 5. âœ… å®Œæˆï¼GitHub Actions ä¼šè‡ªåŠ¨éƒ¨ç½²
```

### æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€

æ¨é€åå³å¯åœ¨ GitHub ä»“åº“ä¸­æŸ¥çœ‹éƒ¨ç½²è¿›åº¦ï¼š

1. æ‰“å¼€ä½ çš„ GitHub ä»“åº“
2. ç‚¹å‡» "Actions" æ ‡ç­¾é¡µ
3. æŸ¥çœ‹æœ€æ–°çš„å·¥ä½œæµè¿è¡ŒçŠ¶æ€

---

## âœ… æ£€æŸ¥æ¸…å•

éƒ¨ç½²å‰ç¡®è®¤ï¼š

- [ ] åœ¨ `source` åˆ†æ”¯å·¥ä½œ
- [ ] æ–‡ç« å·²ä¿å­˜
- [ ] Front-matter æ­£ç¡®ï¼ˆ`published: true` æˆ– `draft: false`ï¼‰
- [ ] æœ¬åœ°é¢„è§ˆæ— è¯¯ï¼ˆ`npx hexo s`ï¼‰
- [ ] ç½‘ç»œè¿æ¥æ­£å¸¸

---

## ğŸ” å¸¸è§é—®é¢˜

### Q: æ¨é€åæ²¡æœ‰è‡ªåŠ¨éƒ¨ç½²æ€ä¹ˆåŠï¼Ÿ

A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç¡®è®¤æ¨é€çš„æ˜¯ `source` åˆ†æ”¯
2. æŸ¥çœ‹ GitHub ä»“åº“çš„ "Actions" æ ‡ç­¾é¡µ
3. æ£€æŸ¥å·¥ä½œæµè¿è¡Œæ—¥å¿—ï¼Œçœ‹æ˜¯å¦æœ‰æŠ¥é”™
4. å¦‚æœå¤šæ¬¡å¤±è´¥ï¼Œæ£€æŸ¥ä¾èµ–æ˜¯å¦å®Œæ•´ï¼ˆè¿è¡Œ `npm install`ï¼‰

### Q: ç½‘ç«™æ›´æ–°åæµè§ˆå™¨çœ‹ä¸åˆ°æ€ä¹ˆåŠï¼Ÿ

A: æ¸…é™¤æµè§ˆå™¨ç¼“å­˜æˆ–ä½¿ç”¨æ— ç—•æ¨¡å¼è®¿é—®

### Q: æ–‡ç« ä¸ºä»€ä¹ˆæ²¡æœ‰å‘å¸ƒï¼Ÿ

A: æ£€æŸ¥æ–‡ç« çš„ Front-matterï¼š
```markdown
---
title: æ–‡ç« æ ‡é¢˜
date: 2026-02-13
published: true  # ç¡®ä¿è¿™æ˜¯ true
---
```

### Q: å¦‚ä½•ä¸´æ—¶ä¸å‘å¸ƒæŸç¯‡æ–‡ç« ï¼Ÿ

A: æ¢ä¸ªæ–¹å¼è®¾ç½® Front-matterï¼š
```markdown
---
title: è‰ç¨¿æ–‡ç« 
draft: true  # æˆ–è®¾ç½®ä¸º draft: true
---
```

---

## ğŸ“š å¸¸ç”¨å‘½ä»¤å‚è€ƒ

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `npx hexo new "æ ‡é¢˜"` | åˆ›å»ºæ–°æ–‡ç«  |
| `npx hexo clean` | æ¸…ç†ç”Ÿæˆçš„æ–‡ä»¶ |
| `npx hexo generate` æˆ– `npx hexo g` | ç”Ÿæˆé™æ€ç½‘ç«™ |
| `npx hexo server` æˆ– `npx hexo s` | å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ |
| `git status` | æŸ¥çœ‹å˜æ›´çŠ¶æ€ |
| `git log --oneline` | æŸ¥çœ‹æäº¤å†å² |
| `git checkout source` | åˆ‡æ¢åˆ° source åˆ†æ”¯ |
| `git push origin source` | æ¨é€åˆ°è¿œç¨‹ source åˆ†æ”¯ |

---

## ğŸ¯ å·¥ä½œæµæ€»ç»“

### ç®€åŒ–å‰ï¼ˆæ—§æ–¹å¼ï¼‰
```
ç¼–è¾‘ â†’ é¢„è§ˆ â†’ è¿è¡Œè„šæœ¬(2-3åˆ†é’Ÿ) â†’ æ‰‹åŠ¨ç®¡ç†åˆ†æ”¯ â†’ å®Œæˆ
```

### ç®€åŒ–åï¼ˆæ–°æ–¹å¼ï¼‰
```
ç¼–è¾‘ â†’ æœ¬åœ°é¢„è§ˆ â†’ git push â†’ âœ… è‡ªåŠ¨å®Œæˆ
```

**èŠ‚çœæ—¶é—´ï¼Œä¸“æ³¨äºå†…å®¹åˆ›ä½œï¼**

---

## ğŸ” é‡è¦æç¤º

1. **å§‹ç»ˆåœ¨ source åˆ†æ”¯å·¥ä½œ**
   - ç¼–è¾‘æ‰€æœ‰æ–‡ç« å’Œé…ç½®éƒ½åœ¨ source åˆ†æ”¯
   - main åˆ†æ”¯ä»…åŒ…å«ç”Ÿæˆçš„é™æ€æ–‡ä»¶

2. **æ¨é€åˆ° source åˆ†æ”¯ä¼šè§¦å‘è‡ªåŠ¨éƒ¨ç½²**
   - ç¡®ä¿ä»£ç æ˜¯å¯ç”¨çš„æ‰æ¨é€
   - æ£€æŸ¥æœ¬åœ°é¢„è§ˆç¡®è®¤æ— è¯¯

3. **main åˆ†æ”¯ç”± GitHub Actions ç®¡ç†**
   - ä¸è¦æ‰‹åŠ¨ç¼–è¾‘ main åˆ†æ”¯
   - GitHub Actions ä¼šè‡ªåŠ¨è¦†ç›–æ—§æ–‡ä»¶

4. **å®šæœŸå¤‡ä»½**
   - ç¡®è®¤é‡è¦æ›´æ–°å·²æ¨é€åˆ° GitHub
   - GitHub ä»“åº“æ˜¯æœ€å¥½çš„å¤‡ä»½

---

## ğŸ“ æ•…éšœæ’æŸ¥

### å·¥ä½œæµå¤±è´¥ï¼Ÿ

æ£€æŸ¥æ­¥éª¤ï¼š
1. æŸ¥çœ‹ GitHub Actions æ—¥å¿—
2. ç¡®ä¿ `npm install` æ²¡æœ‰æŠ¥é”™
3. æ£€æŸ¥ package.json çš„ä¾èµ–
4. å¦‚æœ‰å¿…è¦ï¼Œæœ¬åœ°è¿è¡Œ `npx hexo generate` æµ‹è¯•

### éœ€è¦æ‰‹åŠ¨éƒ¨ç½²ï¼Ÿ

å¦‚æœ GitHub Actions å‡ºé—®é¢˜ï¼Œå¯ä»¥æœ¬åœ°ç”Ÿæˆåæ‰‹åŠ¨æ¨é€ï¼š

```bash
git checkout source
npm install
npx hexo clean
npx hexo generate

git checkout main
git rm -r --cached . 2>/dev/null || true
find . -maxdepth 1 -not -name '.git' -not -name '.github' -not -name 'public' -exec rm -rf {} + 2>/dev/null || true
cp -r public/* .
rm -rf public

git add -A
git commit -m "Deploy: manual update"
git push origin main --force
git checkout source
```

---

**æœ€åæ›´æ–°ï¼š2026-02-13**

æ–°å·¥ä½œæµæ›´ç®€å•ã€æ›´å¯é ã€æ›´çœæ—¶ï¼ğŸ‰
